<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Frank Reininghaus' website">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Frank Reininghaus</title>
<link href="assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="assets/css/baguetteBox.min.css" rel="stylesheet" type="text/css">
<link href="assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="assets/css/code.css" rel="stylesheet" type="text/css">
<link href="assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="assets/css/custom.css" rel="stylesheet" type="text/css">
<link href="assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="rss.xml">
<link rel="canonical" href="https://freininghaus.github.io/">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]--><link rel="prefetch" href="blog/2024/05/14/brainfuck-interpreter-in-rust-part3/" type="text/html">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-expand-md static-top mb-4
navbar-dark
bg-dark
"><div class="container">
<!-- This keeps the margins nice -->
        <a class="navbar-brand" href=".">

            <span id="blog-title">Frank Reininghaus</span>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bs-navbar">
            <ul class="navbar-nav mr-auto">
<li class="nav-item">
<a href="archive.html" class="nav-link">Archive</a>
                </li>
<li class="nav-item">
<a href="categories/" class="nav-link">Tags</a>
                </li>
<li class="nav-item">
<a href="rss.xml" class="nav-link">RSS feed</a>

                
            </li>
</ul>
<ul class="navbar-nav navbar-right"><li class="nav-item">
<a href="pages/about/" class="nav-link">About</a>

                
                
                    
                
            </li></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        
        

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="blog/2024/05/14/brainfuck-interpreter-in-rust-part3/" class="u-url">Learn Rust by building a Brainfuck interpreter, part 3: how you should not build a parser</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Frank Reininghaus
            </span></p>
            <p class="dateline">
            <a href="blog/2024/05/14/brainfuck-interpreter-in-rust-part3/" rel="bookmark">
            <time class="published dt-published" datetime="2024-05-14T21:03:14Z" itemprop="datePublished" title="2024-05-14">2024-05-14</time></a>
            </p>
                <p class="commentline">
    
<a href="blog/2024/05/14/brainfuck-interpreter-in-rust-part3/#comment-section">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div class="cell border-box-sizing text_cell rendered" id="cell-id=3f87b73d-99f3-4333-9e03-0278d843336b">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Introduction">Introduction<a class="anchor-link" href="blog/2024/05/14/brainfuck-interpreter-in-rust-part3/#Introduction">¶</a>
</h3>
<p>This is the third post in a series that builds a Brainfuck interpreter in Rust.</p>
<ul>
<li>In the <a href="blog/2024/02/04/brainfuck-interpreter-in-rust-part1">first post</a>, we created the first building blocks for our Brainfuck interpreter in Rust: a data structure for the tape, and a data type for the instructions. The instructions are based on Rust's enums, which allow to build powerful <a href="https://en.wikipedia.org/wiki/Algebraic_data_type">algebraic data types</a>.</li>
<li>In the <a href="blog/2024/03/31/brainfuck-interpreter-in-rust-part2">second post</a>, we built an execution engine that can execute a Brainfuck program which is represented by an <a href="https://en.wikipedia.org/wiki/Abstract_syntax_tree">abstract syntax tree</a> in the context of a tape. We used the <code>Read</code> and <code>Write</code> traits to make our execution function generic, such that we could not only read from standard input and write to standard output, but also, e.g., read from byte slices and write to a vector of bytes. This makes unit testing easy.</li>
</ul>
<p>Currently, we can only execute programs which are given as abstract syntax trees in Rust data structures, such as this one:</p>
<div class="highlight"><pre><span></span><span class="c1">// read two byte values and write their sum</span>
<span class="fm">vec!</span><span class="p">[</span>
<span class="w">    </span><span class="n">Read</span><span class="p">,</span><span class="w"> </span><span class="n">Right</span><span class="p">,</span><span class="w"> </span><span class="n">Read</span><span class="p">,</span>
<span class="w">    </span><span class="n">Loop</span><span class="p">(</span><span class="fm">vec!</span><span class="p">[</span><span class="n">Dec</span><span class="p">,</span><span class="w"> </span><span class="n">Left</span><span class="p">,</span><span class="w"> </span><span class="n">Inc</span><span class="p">,</span><span class="w"> </span><span class="n">Right</span><span class="p">]),</span>
<span class="w">    </span><span class="n">Left</span><span class="p">,</span><span class="w"> </span><span class="n">Write</span>
<span class="p">];</span>
</pre></div>
<p>This corresponds to <code>,&gt;,[-&lt;+&gt;]&lt;.</code> in Brainfuck source code.</p>
<p>In the current post, we will find ways to transform the latter into the former, i.e., to parse Brainfuck source code and generate an abstract syntax tree.</p>
<p><em><strong>Please note:</strong></em> <em>I intentionally did this without using libraries because I wanted to build a simple parser from scratch. Since I learned a lot this way, I found it appropriate to write a blog post about the process. However, building a parser with the help of libraries that are designed for this purpose is <strong>much</strong> easier and less error-prone. In a future post in this series, we will implement a better parser using the <a href="https://docs.rs/nom/latest/nom/">Rust crate nom</a>.</em></p>
<p class="more"><a href="blog/2024/05/14/brainfuck-interpreter-in-rust-part3/">Read more…</a></p>
</div>
</div>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="blog/2024/03/31/brainfuck-interpreter-in-rust-part2/" class="u-url">Learn Rust by building a Brainfuck interpreter, part 2: the execution engine</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Frank Reininghaus
            </span></p>
            <p class="dateline">
            <a href="blog/2024/03/31/brainfuck-interpreter-in-rust-part2/" rel="bookmark">
            <time class="published dt-published" datetime="2024-03-31T20:49:14Z" itemprop="datePublished" title="2024-03-31">2024-03-31</time></a>
            </p>
                <p class="commentline">
    
<a href="blog/2024/03/31/brainfuck-interpreter-in-rust-part2/#comment-section">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div class="cell border-box-sizing text_cell rendered" id="cell-id=3f87b73d-99f3-4333-9e03-0278d843336b">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Introduction">Introduction<a class="anchor-link" href="blog/2024/03/31/brainfuck-interpreter-in-rust-part2/#Introduction">¶</a>
</h3>
<p>In the <a href="blog/2024/02/04/brainfuck-interpreter-in-rust-part1">last post</a>, we created the first building blocks for our Brainfuck interpreter in Rust:</p>
<ul>
<li>
<p>A data structure for the tape, which supports four operations:</p>
<ul>
<li>
<code>left</code> and <code>right</code> move the data pointer,</li>
<li>
<code>get</code> returns the <code>u8</code> value that is stored in the current cell,</li>
<li>
<code>set</code> assigns a new <code>u8</code> value to the current cell.</li>
</ul>
</li>
<li>
<p>A data type for the instructions. It is based on Rust's enums, which are much more powerful than enums in C or C++ because they allow to build <a href="https://en.wikipedia.org/wiki/Algebraic_data_type">algebraic data types</a>:</p>
<div class="highlight"><pre><span></span><span class="cp">#[derive(Debug)]</span>
<span class="k">enum</span><span class="w"> </span><span class="nc">Instruction</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Inc</span><span class="p">,</span><span class="w">                    </span><span class="c1">// +</span>
<span class="w">    </span><span class="n">Dec</span><span class="p">,</span><span class="w">                    </span><span class="c1">// -</span>
<span class="w">    </span><span class="n">Left</span><span class="p">,</span><span class="w">                   </span><span class="c1">// &lt;</span>
<span class="w">    </span><span class="n">Right</span><span class="p">,</span><span class="w">                  </span><span class="c1">// &gt;</span>
<span class="w">    </span><span class="n">Read</span><span class="p">,</span><span class="w">                   </span><span class="c1">// ,</span>
<span class="w">    </span><span class="n">Write</span><span class="p">,</span><span class="w">                  </span><span class="c1">// .</span>
<span class="w">    </span><span class="n">Loop</span><span class="p">(</span><span class="nb">Vec</span><span class="o">&lt;</span><span class="n">Instruction</span><span class="o">&gt;</span><span class="p">)</span><span class="w">  </span><span class="c1">// [...]</span>
<span class="p">}</span>
</pre></div>
<p>This definition allows to represent a Brainfuck program as an <a href="https://en.wikipedia.org/wiki/Abstract_syntax_tree">abstract syntax tree</a>, which makes program execution simple. However, it requires a bit more work when parsing the program, as we will see in a later post in this series.</p>
</li>
</ul>
<p>In this post, we will implement the next part of the interpreter: an execution engine which applies instructions to the state of the tape, and performs input and output.</p>
<p class="more"><a href="blog/2024/03/31/brainfuck-interpreter-in-rust-part2/">Read more…</a></p>
</div>
</div>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="blog/2024/02/04/brainfuck-interpreter-in-rust-part1/" class="u-url">Learn Rust by building a Brainfuck interpreter, part 1: implement the tape and model the program as an abstract syntax tree</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Frank Reininghaus
            </span></p>
            <p class="dateline">
            <a href="blog/2024/02/04/brainfuck-interpreter-in-rust-part1/" rel="bookmark">
            <time class="published dt-published" datetime="2024-02-04T21:23:02Z" itemprop="datePublished" title="2024-02-04">2024-02-04</time></a>
            </p>
                <p class="commentline">
    
<a href="blog/2024/02/04/brainfuck-interpreter-in-rust-part1/#comment-section">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div class="cell border-box-sizing text_cell rendered" id="cell-id=26524732-e864-4158-a826-9e0772f14cac">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Motivation">Motivation<a class="anchor-link" href="blog/2024/02/04/brainfuck-interpreter-in-rust-part1/#Motivation">¶</a>
</h3>
<p>For many years, C++ used to be my favourite language for performance-critical applications. I find Python much more convenient for many use cases, but I have always enjoyed employing zero-cost abstractions and writing generic code that can be compiled to optimal assembly.</p>
<p>However, C++ has a number of downsides, such as</p>
<ul>
<li>problems that arise from <a href="https://en.cppreference.com/w/c/language/behavior">undefined bahaviour</a> in the code,<a href="blog/2024/02/04/brainfuck-interpreter-in-rust-part1/#fn:undefined-behavior"><sup id="fnref:undefined-behavior">1</sup></a>
</li>
<li>all the baggage it carries due to its backwards compatibility with almost all C++ code and much of the C code that has ever been written.
A consequence is that C++ is more cumbersome and error-prone to use than more modern languages, and that developers are less productive than they could be.</li>
</ul>
<p>Rust tries to address these issues and enable excellent performance at the same time, so I decided that I should give it a try a few years ago. I started playing around with it for <a href="https://adventofcode.com/">Advent of Code</a> problems, enjoyed it a lot, and wondered what practice project I could try next.</p>
<p class="more"><a href="blog/2024/02/04/brainfuck-interpreter-in-rust-part1/">Read more…</a></p>
</div>
</div>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="blog/2022/07/12/set-up-local-k8s-cluster-and-deploy-self-made-microservice/" class="u-url">How to set up a local Kubernetes cluster and deploy a self-made microservice in less than 10 minutes</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Frank Reininghaus
            </span></p>
            <p class="dateline">
            <a href="blog/2022/07/12/set-up-local-k8s-cluster-and-deploy-self-made-microservice/" rel="bookmark">
            <time class="published dt-published" datetime="2022-07-12T20:01:51Z" itemprop="datePublished" title="2022-07-12">2022-07-12</time></a>
            </p>
                <p class="commentline">
    
<a href="blog/2022/07/12/set-up-local-k8s-cluster-and-deploy-self-made-microservice/#comment-section">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div class="cell border-box-sizing text_cell rendered" id="cell-id=c150e8c8-dfba-4a83-8720-aec90058d953">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Nowadays, many server applications are not installed and run directly on physical hosts or virtual machines any more. Instead, application code is often built into container images, and run in so-called <em>pods</em> in a Kubernetes cluster. Kubernetes provides a standardized way to orchestrate applications and works the same way no matter where the cluster is running.</p>
<p>Kubernetes clusters are often hosted and managed by cloud providers. They can also be deployed on-premise though, and either be created and managed by a service provider, or with tools like <a href="https://github.com/kubernetes-sigs/kubespray">Kubespray</a>. Most clusters are long-lived, and consist of multiple nodes for redundancy.</p>
<p>However, sometimes a cluster that can be created and discarded quickly and easily on a single computer can be very useful:</p>
<ul>
<li>A developer might want to create a cluster on their development machine for playing around with Kubernetes, exploring the newest tools, or testing their newly developed code and Kubernetes resources. If they used a cluster that is shared with others or even with production workloads instead, they might get into the way of others, or worse, break things that should better not break.</li>
<li>Another use case is automated testing of application deployments in Kubernetes, or testing of applications that interact with Kubernetes resources themselves. This works best in a dedicated cluster that is set up in a clean state just for this purpose, and thrown away after the tests.</li>
</ul>
<p class="more"><a href="blog/2022/07/12/set-up-local-k8s-cluster-and-deploy-self-made-microservice/">Read more…</a></p>
</div>
</div>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="blog/2022/03/01/getting-rid-of-waste-manipulating-calendars-with-python-and-ics/" class="u-url">Getting rid of waste: manipulating calendars with Python and the ics library</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Frank Reininghaus
            </span></p>
            <p class="dateline">
            <a href="blog/2022/03/01/getting-rid-of-waste-manipulating-calendars-with-python-and-ics/" rel="bookmark">
            <time class="published dt-published" datetime="2022-03-01T22:24:59+01:00" itemprop="datePublished" title="2022-03-01">2022-03-01</time></a>
            </p>
                <p class="commentline">
    
<a href="blog/2022/03/01/getting-rid-of-waste-manipulating-calendars-with-python-and-ics/#comment-section">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div class="cell border-box-sizing text_cell rendered" id="cell-id=a0e06963">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In the city where I live, four different kinds of waste are collected regularly:</p>
<ul>
<li>paper,</li>
<li>organic waste,</li>
<li>the "yellow bag" which is for all sorts of packaging, and</li>
<li>residual waste, which contains all the rest (except batteries, dangerous chemicals and a couple of other things, which people have to bring to collection facilities themselves).</li>
</ul>
<p>At first sight, the days on which I have to take out the different bins and bags seem easy enough to remember: usually, everything is collected on the same day of the week. However, there are different schedules for the different kinds of waste (biweekly or every four weeks in my part of the city). Moreover, in weeks with bank holidays, the collection is often shifted to another weekday.</p>
<p>Fortunately, the city council provides <a href="https://en.wikipedia.org/wiki/ICalendar">iCalendar</a> files (<code>*.ical</code>) with all waste collection dates for the current year <a href="https://serviceportal.aachen.de/abfallnavi">at its website</a>. The downloaded file can easily be imported into any calendar application. I found that the structure of the events in the file could be made more convenient though.</p>
<p class="more"><a href="blog/2022/03/01/getting-rid-of-waste-manipulating-calendars-with-python-and-ics/">Read more…</a></p>
</div>
</div>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="blog/2022/03/01/new-blog/" class="u-url">New blog</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Frank Reininghaus
            </span></p>
            <p class="dateline">
            <a href="blog/2022/03/01/new-blog/" rel="bookmark">
            <time class="published dt-published" datetime="2022-03-01T22:12:11+01:00" itemprop="datePublished" title="2022-03-01">2022-03-01</time></a>
            </p>
                <p class="commentline">
    
<a href="blog/2022/03/01/new-blog/#comment-section">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <p>Today I am starting a new blog. 🙂</p>
<p>I used to have a Wordpress blog at <a href="https://freininghaus.wordpress.com/">https://freininghaus.wordpress.com/</a>. I started it when I got involved more and more with <a href="https://kde.org/">KDE</a> and especially its file manager Dolphin.</p>
<p>When I stopped working on KDE because of changes in my personal life, one of the main reasons for writing blog posts regularly was gone. So I quit blogging.</p>
<p>I have missed writing in public though, and I have accumulated quite a few posts in various stages of completion during the past few years. And I have ideas for even more!</p>
<p>However, I could never motivate myself to revive my old blog, among other things because static site generators look much more attractive than platforms like Wordpress to me now. Therefore, I have finally decided to start something new. After looking at a few of the many options available, I chose <a href="https://getnikola.com">Nikola</a>, mostly because of its native suppot for <a href="https://jupyter.org/">Jupyter</a> notebooks, and because I felt that I can get a result that I am happy with without investing too much effort.</p>
<p>I will write about my adventures in software development and other topics that I care about. I hope that this will be fun and will also help myself to structure my thoughts better and preserve them for my future self. If that turns out to be interesting for a wider audience, then this is an appreciated side effect, but not the main goal.</p>
<p>If you want to be updated about future posts, feel free to subscibe to the RSS feed or <a href="https://twitter.com/f_reininghaus">follow me on Twitter</a>.</p>
    </div>
    </article>
</div>



    



        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" integrity="sha384-3lJUsx1TJHt7BA4udB5KPnDrlkO8T6J6v/op7ui0BbCjvZ9WqV4Xm6DTP6kQ/iBH" crossorigin="anonymous"></script><script type="text/x-mathjax-config">
        MathJax.Hub.Config({tex2jax: {inlineMath: [['$latex ','$'], ['\\(','\\)']]}});
        </script><!--End of body content--><footer id="footer">
            Contents © 2024         <a href="mailto:frank78ac@googlemail.com">Frank Reininghaus</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
            
        </footer>
</div>
</div>


            <script src="assets/js/jquery.min.js"></script><script src="assets/js/popper.min.js"></script><script src="assets/js/bootstrap.min.js"></script><script src="assets/js/baguetteBox.min.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
    </script>
</body>
</html>
